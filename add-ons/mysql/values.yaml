mysqlRootPassword: "123"
mysqlRealworldPassword: "123"
mysql:
  primary:
    containerPorts:
      mysql: 3306
    configuration: |-
      [mysqld]
      default-authentication-plugin=mysql_native_password
      authentication_policy='{{- .Values.auth.authenticationPolicy | default "* ,," }}'
      skip-name-resolve
      explicit_defaults_for_timestamp
      basedir=/opt/bitnami/mysql
      plugin_dir=/opt/bitnami/mysql/lib/plugin
      port={{ .Values.primary.containerPorts.mysql }}
      socket=/opt/bitnami/mysql/tmp/mysql.sock
      datadir=/bitnami/mysql/data
      tmpdir=/opt/bitnami/mysql/tmp
      max_allowed_packet=16M
      bind-address=*
      pid-file=/opt/bitnami/mysql/tmp/mysqld.pid
      log-error=/opt/bitnami/mysql/logs/mysqld.log
      character-set-server=UTF8
      slow_query_log=0
      long_query_time=10.0
  
      [client]
      port={{ .Values.primary.containerPorts.mysql }}
      socket=/opt/bitnami/mysql/tmp/mysql.sock
      default-character-set=UTF8
      plugin_dir=/opt/bitnami/mysql/lib/plugin
  
      [manager]
      port={{ .Values.primary.containerPorts.mysql }}
      socket=/opt/bitnami/mysql/tmp/mysql.sock
      pid-file=/opt/bitnami/mysql/tmp/mysqld.pid

    extraVolumes:
      - name: init-script
        configMap:
          name: mysql-init-script
    extraVolumeMounts:
      - name: init-script
        mountPath: /docker-entrypoint-initdb.d/init.sql
        subPath: init.sql
        readOnly: true

  auth:
    createDatabase: false
    existingSecret: mysql-root-password
